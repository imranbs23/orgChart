          <ejs-diagram
            #diagram
            id="diagram"
            width="100%"
            height="674px"
            style="background-color: #2B3540 !important; color: white;"
            [getConnectorDefaults]='connectorDefaults'
            [getNodeDefaults]='nodeDefaults'
            [layout]='layout'
            [dataSourceSettings]='dataSourceSettings'
            [snapSettings]='snapSettings'
            [tool]='tool'
            [constraints]="diagramConstraints"
            (selectionChange)="selectionChange($event)"
            (created)="created()">
              <ng-template #nodeTemplate let-data >
                <ng-container>
                  <div class="role-card">
                    <div  *ngIf="!data.data.hidden">
                      <div class="justify-content">
                        <span class="name">
                          <img src="assets/images/role.svg" alt="Role Icon" class="icon"> {{data.data.name}}
                        </span>
                        <span>
                          <img src="assets/images/user.svg" alt="User Icon" class="icon"> {{data.data.users?.length}}
                        </span>
                        <span (click)="data.data.expanded = !data.data.expanded;">
                          <img [src]="data.data.expanded ? 'assets/images/shevron_Up.svg' : 'assets/images/shevron_Down.svg'" alt="Toggle Icon" class="icon">
                        </span>
                      </div>
                      <div *ngIf="data.data.expanded" class="user-container">
                        <div *ngFor="let user of data.data.users">
                          <span *ngIf="!user.hidden">{{user.name}}</span>
                        </div>
                      </div>
                  </div>
                </div>
              </ng-container>
                  </ng-template>
          </ejs-diagram>
